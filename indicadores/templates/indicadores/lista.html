{% extends "base.html" %}
{% block content %}
<div class="container">
    <h2>üìä Lista de Indicadores</h2>

    <!-- Bot√£o voltar -->
    <a href="{% url 'home' %}" class="btn btn-back">‚¨ÖÔ∏è Voltar</a>

    <!-- Bot√£o adicionar -->
    <a href="{% url 'adicionar_indicador' %}" class="btn btn-add">‚ûï Novo Indicador</a>

    <table>
        <thead>
            <tr>
                <th>Nome</th>
                <th>Categoria</th>
                <th>Valor</th>
                <th>Quantidade</th>
                <th>Lucro %</th>
                <th>Valor Total</th>
                <th>Lucro Total</th>
                <th>Atualizado em</th>
                <th>A√ß√µes</th>
            </tr>
        </thead>
        <tbody>
            {% for i in indicadores %}
            <tr>
                <td>{{ i.nome }}</td>
                <td>{{ i.categoria }}</td>
                <td>R$ {{ i.valor|floatformat:2 }}</td>
                <td>{{ i.quantidade }}</td>
                <td>{{ i.percentual_lucro }}%</td>
                <td>R$ {{ i.valor_total|floatformat:2 }}</td>
                <td>R$ {{ i.lucro_total|floatformat:2 }}</td>
                <td>{{ i.data_atualizacao|date:"d/m/Y" }}</td>
                <td>
                    <a href="{% url 'editar_indicador' i.id %}" class="btn-edit">‚úèÔ∏è</a>
                    <a href="{% url 'excluir_indicador' i.id %}" class="btn-delete">üóëÔ∏è</a>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="9">Nenhum indicador cadastrado.</td>
            </tr>
            {% endfor %}
        </tbody>
        <tfoot>
            <tr>
                <td colspan="5"><strong>Total Geral:</strong></td>
                <td><strong>R$ {{ soma_valor_total|floatformat:2 }}</strong></td>
                <td><strong>R$ {{ soma_lucro_total|floatformat:2 }}</strong></td>
                <td colspan="2"></td>
            </tr>
        </tfoot>
    </table>
</div>
{% endblock %}
